---
title: 网络体系结构
date: 2018-06-08 18:02:50
tags: 学习笔记
category: 网络
---
相互通信的两个计算机系统必须高度协调才能工作，而这种协调是非常复杂的，分层可以将这个庞大而复杂的问题变得简单。
<!--more-->
为了解决不同体系的计算机之间通信的问题，国际标准化组织ISO提出了开放系统互连基本参考模型OSI/RM,简称为OSI。OSI把网络体系分为7层，每一层需要遵守一定的协议。

### OSI七层模型
1. 物理层
  功能: 负责为数据端设备透明地传输原始比特流，并且定义了数据终端设备和数据通信设备的物理和逻辑链接方法。传输单位是比特。
  协议: RJ45、IEEE802.3
  设备: 中继器、集线器
2. 数据链路层
 功能: 将网络层传下来的IP数据报组装成帧，并检测和矫正物理层产生的传输差错，使得链路对网络层显示一条无差错、可靠的数据传输线路。功能可以概括为成帧，差错控制、流量控制和传输管理。传输单位是帧。
 协议: HDLC(高级数据链路控制协议),PPP,STP,SDLC,CSMA(载波监听多路访问)
 设备: 网桥、交换机
3. 网络层
 功能: 负载在网络层上将数据封装成数据报，将数据报从源端传到目的端，同时进行路由选择，为分组交换网上的不同主机提供通信服务。关键问题是对分组进行选择，并实现流量控制、拥塞控制、差错控制和网际互联等功能。传输单位数据报。
 协议: IP,ICMP(因特网控制报文协议),IGMP(因特网组管理协议),ARP,RARP,OSPF(开放最短路径优先),IPX
 设备: 路由器
4. 传输层
 功能: 负责主机中两个进程之间的通信，为端到端连接提供可靠的传输服务。为端到端连接提供流量控制、差错控制、服务质量、数据传输管理等服务。
 协议: TCP、UDP
5. 会话层
 功能: 会话层允许不同主机上各个进程之间的会话，会话层利用传输层提供的端到端的服务，向表示层提供它的增值服务。这种服务主要是为表示层实体或用户进程建立连接并在连接上提供有序地传输数据。
 协议: SQL、RPC(远程调用协议)
6. 表示层
 功能: 用于处理两个通信系统中交换信息的表示方式。如数据压缩，加密和解密等。
 协议: JPEG、MPEG、ASII
7. 应用层
 功能: 它是直接为应用进程服务的一层。当不同的应用进程数据通信或数据交换时，就去调用应用层的不同协议实体，让这些实体去调用TCP或者UDP层服务来进行网络传输。
 协议: FTP(21) TELNET(23) SMTP(25) DNS(53) TFTP(69) HTTP(80) SNMP(161),DHCP(动态主机配置协议)

OSI只获得了一些理论研究的成果，因特网并未使用OSI标准，OSI失败的原因可归纳为：
- OSI的专家们缺少实际经验，它们==他们在完成OSI标准时缺乏商业驱动力
- OSI协议实现起来太过复杂，而且运行效率很低
- OSI标准的制定周期太长
- OSI的层次划分不太合理，有些功能在多个层次中重复出现

因特网使用的是TCP/IP体系结构，TCP/IP体系结构可以分为四层或五层

#### TCP/IP四层模型
1. 网络接口层(接收和发送数据报):负责将数据报发送到网络介质上，以及从网络上接收TCP/IP数据报，相当于OSI的物理层和数据层。
2. 网际层(数据报封装和路由寻址功能):主要负责寻址和对数据报的封装以及重要的路由选择功能。
3. 传输层:负责在应用进程之间的“端到端”的通信，即从某个应用进程传输到另一个应用进程。
4. 应用层:是TCP/IP的最高层，它是直接为应用进程服务的一层。当不同的应用进程数据通信或数据交换时，就去调用应用层的不同协议实体，让这些实体去调用TCP或者UDP层服务来进行网络传输。

#### TCP/IP五层模型
1. 物理层:考虑的是怎样在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。
2. 数据链路层:网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的结点提供服务。数据链路层把网络层传来的分组封装成帧。
3. 网络层:为主机之间提供数据传输服务，而运输层协议是为主机中的进程提供服务。网络层把运输层传递下来的报文段或者用户数据报封装成分组。
4. 运输层:提供的是进程间的通用数据传输服务。由于应用层协议很多，定义通用的运输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。TCP 主要提供完整性服务，UDP 主要提供及时性服务。
5. 应用层:为特定应用程序提供数据传输服务，例如 HTTP、DNS 等。数据单位为报文。

#### OSI 和TCP/IP的区别
1. OSI精确定义了服务、协议和接口，符合面向对象程序设计思想。而TCP/IP在这些概念上没有明确区分。
2. OSI在产生协议之前没有偏向任何特定的协议，通用性良好，但如果设计没有太多经验就不知道将哪些功能放到哪一层。TCP/IP,首先出现协议，模型实际上是对已有协议的描述。因此不会出现协议不能匹配的模式。
3. TCP/IP考虑了异构网的互联问题，而OSI只考虑用一种标准的公用数据网将各种不同系统互连。
4. OSI在网络层支持无连接和面向连接的通信，但在传输层仅有面向连接通信。而TCP/IP则相反，在网际层仅有无连接服务，在传输层支持无连接和面向连接两种模式。